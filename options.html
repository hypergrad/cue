<!doctype html>
<html lang="zh">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Cue 设置</title>
    <style>
      body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial; margin: 0; padding: 16px; }
      h1 { font-size: 18px; }
      .row { margin: 12px 0; }
      label { display: block; margin-bottom: 6px; color: #555; }
      input[type="number"], select { padding: 6px 8px; border: 1px solid #ddd; border-radius: 6px; min-width: 140px; }
      .muted { color: #888; font-size: 12px; }
      .btn { padding: 6px 10px; border: 1px solid #ddd; background: #fff; border-radius: 6px; cursor: pointer; }
      .btn.primary { background: #1677ff; color: #fff; border-color: #1677ff; }
    </style>
  </head>
  <body>
    <h1>Cue 设置</h1>
    <div class="row">
      <label for="locale">语言 Language</label>
      <select id="locale">
        <option value="zh">中文</option>
        <option value="en">English</option>
      </select>
    </div>
    <div class="row">
      <label for="theme">主题 Theme</label>
      <select id="theme">
        <option value="chinese">Chinese Style</option>
        <option value="light">Light</option>
        <option value="dark">Dark</option>
      </select>
    </div>
    <div class="row">
      <label for="panelWidth">面板宽度 Panel width (px)</label>
      <input type="number" id="panelWidth" min="280" max="600" step="10" />
      <div class="muted">默认 380px</div>
    </div>
    <div class="row">
      <button id="save" class="btn primary">保存 Save</button>
    </div>
    <script>
      const STORAGE = chrome.storage?.local;
      function load() {
        STORAGE.get(['settings'], ({ settings }) => {
          settings = settings || { locale: 'zh', theme: 'chinese', panelWidth: 380 };
          document.getElementById('locale').value = settings.locale || 'zh';
          document.getElementById('theme').value = settings.theme || 'chinese';
          document.getElementById('panelWidth').value = settings.panelWidth || 380;
        });
      }
      function save() {
        const settings = {
          locale: document.getElementById('locale').value,
          theme: document.getElementById('theme').value,
          panelWidth: Math.max(280, Math.min(600, parseInt(document.getElementById('panelWidth').value || '380')))
        };
        STORAGE.set({ settings }, () => {
          alert('设置已保存！');
        });
      }
      document.getElementById('save').addEventListener('click', save);
      load();
    </script>
  </body>
  </html>

